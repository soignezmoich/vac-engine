<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.28.0">
    <meta name="project" content="Vac Engine v1.1.1">

    <title>VacEngine.Simulation â€” Vac Engine v1.1.1</title>
    <link rel="stylesheet" href="dist/elixir-a816d167216329cc463d.css" />

    <script src="dist/sidebar_items-5f79f8e75a.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-80aa23c1d96b6dc3c064.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">


<section class="sidebar">
  <button class="sidebar-button sidebar-toggle">
    <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
  </button>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

    <div class="sidebar-projectDetails">
      <a href="readme.html" class="sidebar-projectName" translate="no">
Vac Engine
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v1.1.1
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">GUIDES</a></li>

        <li><a id="modules-list-link" href="#full-list">Modules</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="settings display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L1" title="View Source" class="view-source" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span translate="no">VacEngine.Simulation</span> 
  <small class="app-vsn" translate="no">(Vac Engine v1.1.1)</small>

</h1>


  <section id="moduledoc">
<p>Provides the model for the blueprint simulation. Simulation is used
to assess whether a ruleset meets business requirements.</p><p>A blueprint simulation is a collection of input/output definitions. The output
corresponds to the expected outcome of the blueprint for the given input.</p><h2 id="module-simulation-runner" class="section-heading">
  <a href="#module-simulation-runner" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Simulation runner
</h2>
<p>The input descriptions are processed a case runner (similar to the main processor)
in order to determine if the corresponding output expectations are met.</p><h2 id="module-stacks-layers-cases" class="section-heading">
  <a href="#module-stacks-layers-cases" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Stacks, layers, cases
</h2>
<p>The description passed to the runner is actually a &quot;stack&quot; of simple descriptions
called &quot;cases&quot; where the higher case's values overwrite the lower case's ones.
Cases are refenced as &quot;layer&quot; in the &quot;stack&quot; and may be referenced in several stacks.
Only input is composed this way. Lower cases are not intended to describe output.</p><h2 id="module-two-layers-basic-stacks-and-templates" class="section-heading">
  <a href="#module-two-layers-basic-stacks-and-templates" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Two-layers &quot;Basic stacks&quot; and &quot;Templates&quot;
</h2>
<p>In the current implementation of the simulation. Stacks are limited to two level. The
bottom layer is called a &quot;Template&quot; where the top one is called a &quot;Runnable case&quot;.</p><h2 id="module-blueprint-templates-and-basic-stacks" class="section-heading">
  <a href="#module-blueprint-templates-and-basic-stacks" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Blueprint templates and basic stacks
</h2>
<p>Each blueprint simulation has a collection of templates (a many to many relation between
cases and blueprints) that can be used as bottom layer cases. Each simulation also has
a collection fo &quot;Basic stacks&quot;, each containing a runnable case and optionally a template.
The editor allows to pick the template of the basic cases among the simulation's templates,
but technically, a template can be any case of the workspace.</p><h2 id="module-case-sharing" class="section-heading">
  <a href="#module-case-sharing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Case sharing
</h2>
<p>Blueprints can share cases. This automatically occurs when a blueprint is duplicated, but
not when a blueprint is exported and reimported where each case is duplicated.</p><p>When cases are shared, they can be modified at one for every blueprint. This is useful when
you want to fix an error.</p><h2 id="module-workspace-cases-collections" class="section-heading">
  <a href="#module-workspace-cases-collections" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a>
  Workspace cases collections
</h2>
<p>Cases</p><p>Cases are grouped in a multi-layer stack. Each layer is a single case.</p><p>The content of a case can be used as a base for another case, forming a <em>stack</em>
(technically, even a single case is part of a stack).</p><p>The basic stack is a two-layered stack (used as the only existing stack structure)</p><p>Cases are created workspace-wide whereas case stacks are limited to the blueprint
scope. This structure allows to share cases among several blueprints.</p>
  </section>


  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
      Summary
    </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_blank_stack/2" translate="no">create_blank_stack(blueprint, name)</a>

        </div>

          <div class="summary-synopsis"><p>Creates a new stack with an empty runnable case and no template case.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_blank_template/2" translate="no">create_blank_template(blueprint, name)</a>

        </div>

          <div class="summary-synopsis"><p>Create a new blank template for the given blueprint with the given name.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_input_entry/3" translate="no">create_input_entry(kase, key, value \\ &quot;-&quot;)</a>

        </div>

          <div class="summary-synopsis"><p>Create a new input entry for the given case, key with the given value.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_output_entry/3" translate="no">create_output_entry(kase, key, variable)</a>

        </div>

          <div class="summary-synopsis"><p>Create a new output entry for the given case, key and variable.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_setting/1" translate="no">create_setting(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Create a new simulation setting for the given blueprint.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#create_stack/2" translate="no">create_stack(blueprint, attrs \\ %{})</a>

        </div>

          <div class="summary-synopsis"><p>Creates a new stack using the given attributes.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_input_entry/1" translate="no">delete_input_entry(input_entry)</a>

        </div>

          <div class="summary-synopsis"><p>Delete the given input entry.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_output_entry/1" translate="no">delete_output_entry(output_entry)</a>

        </div>

          <div class="summary-synopsis"><p>Delete given output entry.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_stack/1" translate="no">delete_stack(stack_id)</a>

        </div>

          <div class="summary-synopsis"><p>Deletes the stack with the given id. Layers are also deleted. Cases not.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_stack_template/1" translate="no">delete_stack_template(stack)</a>

        </div>

          <div class="summary-synopsis"><p>Delete the template of the given simple stack.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#delete_template/1" translate="no">delete_template(template_id)</a>

        </div>

          <div class="summary-synopsis"><p>Delete the template with the given id.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#fork_runnable_case/2" translate="no">fork_runnable_case(stack, name)</a>

        </div>

          <div class="summary-synopsis"><p>Fork the runnable case of the given simple stack, i.e. create a copy to use in the
given stack.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#fork_template_case/2" translate="no">fork_template_case(template, name)</a>

        </div>

          <div class="summary-synopsis"><p>For the template case, i.e. create a copy to use in the template
and all cases using this template.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_blueprints_sharing_runnable_case/1" translate="no">get_blueprints_sharing_runnable_case(stack)</a>

        </div>

          <div class="summary-synopsis"><p>Get the blueprint name and ids that share the runnable case of
the given simple (two-layer) stack.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_blueprints_sharing_template_case/1" translate="no">get_blueprints_sharing_template_case(template)</a>

        </div>

          <div class="summary-synopsis"><p>Returns the name and ids of the blueprints with which the case is shared.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_cases_using_template/1" translate="no">get_cases_using_template(template)</a>

        </div>

          <div class="summary-synopsis"><p>Retrieve the cases (stacks) using the given template.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_first_stack/1" translate="no">get_first_stack(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Get the first stack associated to the given blueprint.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_setting/1" translate="no">get_setting(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Get the simulation settings.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_stack/1" translate="no">get_stack(stack_id)</a>

        </div>

          <div class="summary-synopsis"><p>Retrieve a stack corresponding to the given id.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_stack!/2" translate="no">get_stack!(stack_id, queries)</a>

        </div>

          <div class="summary-synopsis"><p>Retrieve a stack corresponding to the given id (throw! version).</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_stack_names/1" translate="no">get_stack_names(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Retrieve all the stack names for the given blueprint.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_stack_runnable_case/1" translate="no">get_stack_runnable_case(stack)</a>

        </div>

          <div class="summary-synopsis"><p>Get the runnable case of the given simple stack.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_stack_template_case/1" translate="no">get_stack_template_case(stack)</a>

        </div>

          <div class="summary-synopsis"><p>Get the template case of the given simple stack.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_stacks/1" translate="no">get_stacks(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Get all stacks for the given blueprint.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_template/1" translate="no">get_template(template_id)</a>

        </div>

          <div class="summary-synopsis"><p>Retrieve the template with the given id.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_template_names/1" translate="no">get_template_names(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Get all the given blueprint's template names.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#get_templates/1" translate="no">get_templates(blueprint)</a>

        </div>

          <div class="summary-synopsis"><p>Get all the given blueprint's templates.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#import_all_cases/1" translate="no">import_all_cases(path)</a>

        </div>

          <div class="summary-synopsis"><p>Import all cases from a path (used for bulk importation).</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#load_stack_layers_case_entries/1" translate="no">load_stack_layers_case_entries(query)</a>

        </div>

          <div class="summary-synopsis"><p>Add the case entries (input and output) to the stacks retrieved
by the given query.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#load_stack_setting/1" translate="no">load_stack_setting(query)</a>

        </div>

          <div class="summary-synopsis"><p>Add the setting attribute to the stacks retrieved by the given
query.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#queue_job/1" translate="no">queue_job(job)</a>

        </div>

          <div class="summary-synopsis"><p>Queue a case to be runned by the simulation runner.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#set_expect_run_error/2" translate="no">set_expect_run_error(kase, expect_run_error)</a>

        </div>

          <div class="summary-synopsis"><p>Sets whether the case expects an error to occur (mostly when the complete element is not used).</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#set_expected/2" translate="no">set_expected(entry, expected)</a>

        </div>

          <div class="summary-synopsis"><p>Set the &quot;expected&quot; value of the given output entry.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#set_stack_template/2" translate="no">set_stack_template(stack, template_case_id)</a>

        </div>

          <div class="summary-synopsis"><p>Set the case with the given id as template case for the given simple stack.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#toggle_forbidden/2" translate="no">toggle_forbidden(entry, forbidden)</a>

        </div>

          <div class="summary-synopsis"><p>Set the forbidden flag of the given output entry. If forbidden is set to true,
the corresponding output variable is expected to be absent of the output in
the current case.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#update_input_entry/3" translate="no">update_input_entry(input_entry, value, variable)</a>

        </div>

          <div class="summary-synopsis"><p>Update given input entry value.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#update_setting/2" translate="no">update_setting(setting, options)</a>

        </div>

          <div class="summary-synopsis"><p>Update setting with the given options.
Currently, the only option is the datetime <code class="inline">env_now</code>.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#validate_input_entry/2" translate="no">validate_input_entry(changeset, variable)</a>

        </div>

          <div class="summary-synopsis"><p>Validate given input entry for the given variable.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#validate_setting/1" translate="no">validate_setting(changeset)</a>

        </div>

          <div class="summary-synopsis"><p>Validate the setting.</p></div>

      </div>

      <div class="summary-row">
        <div class="summary-signature">
          <a href="#variable_default_value/2" translate="no">variable_default_value(type, enum)</a>

        </div>

          <div class="summary-synopsis"><p>Get the default value for a variable of the given type. If the type
is string, the enum must me passed if it exists.</p></div>

      </div>

  </div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
        <span class="sr-only">Link to this section</span>
      </a>
Functions
    </h1>
    <div class="functions-list">
<section class="detail" id="create_blank_stack/2">

  <div class="detail-header">
    <a href="#create_blank_stack/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_blank_stack(blueprint, name)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L89" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Creates a new stack with an empty runnable case and no template case.</p>
  </section>
</section>
<section class="detail" id="create_blank_template/2">

  <div class="detail-header">
    <a href="#create_blank_template/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_blank_template(blueprint, name)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L185" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Create a new blank template for the given blueprint with the given name.</p>
  </section>
</section>
<section class="detail" id="create_input_entry/3">

    <span id="create_input_entry/2"></span>

  <div class="detail-header">
    <a href="#create_input_entry/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_input_entry(kase, key, value \\ &quot;-&quot;)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L228" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Create a new input entry for the given case, key with the given value.</p>
  </section>
</section>
<section class="detail" id="create_output_entry/3">

  <div class="detail-header">
    <a href="#create_output_entry/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_output_entry(kase, key, variable)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L248" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Create a new output entry for the given case, key and variable.</p>
  </section>
</section>
<section class="detail" id="create_setting/1">

  <div class="detail-header">
    <a href="#create_setting/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_setting(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L160" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Create a new simulation setting for the given blueprint.</p><p>The default &quot;now&quot; time used here is &quot;2000-01-01&quot; (0h).</p>
  </section>
</section>
<section class="detail" id="create_stack/2">

    <span id="create_stack/1"></span>

  <div class="detail-header">
    <a href="#create_stack/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">create_stack(blueprint, attrs \\ %{})</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L94" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Creates a new stack using the given attributes.</p>
  </section>
</section>
<section class="detail" id="delete_input_entry/1">

  <div class="detail-header">
    <a href="#delete_input_entry/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_input_entry(input_entry)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L233" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Delete the given input entry.</p>
  </section>
</section>
<section class="detail" id="delete_output_entry/1">

  <div class="detail-header">
    <a href="#delete_output_entry/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_output_entry(output_entry)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L253" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Delete given output entry.</p>
  </section>
</section>
<section class="detail" id="delete_stack/1">

  <div class="detail-header">
    <a href="#delete_stack/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_stack(stack_id)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L99" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Deletes the stack with the given id. Layers are also deleted. Cases not.</p>
  </section>
</section>
<section class="detail" id="delete_stack_template/1">

  <div class="detail-header">
    <a href="#delete_stack_template/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_stack_template(stack)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L274" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Delete the template of the given simple stack.</p>
  </section>
</section>
<section class="detail" id="delete_template/1">

  <div class="detail-header">
    <a href="#delete_template/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">delete_template(template_id)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L190" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Delete the template with the given id.</p>
  </section>
</section>
<section class="detail" id="fork_runnable_case/2">

  <div class="detail-header">
    <a href="#fork_runnable_case/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">fork_runnable_case(stack, name)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L298" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Fork the runnable case of the given simple stack, i.e. create a copy to use in the
given stack.</p><p>This is useful when the runnable case is shared among stacks of several blueprints,
e.g. when a blueprint has been duplicated.</p>
  </section>
</section>
<section class="detail" id="fork_template_case/2">

  <div class="detail-header">
    <a href="#fork_template_case/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">fork_template_case(template, name)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L199" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>For the template case, i.e. create a copy to use in the template
and all cases using this template.</p><p>This is useful when the template case is shared among templates of several blueprints,
e.g. when a blueprint has been duplicated.</p>
  </section>
</section>
<section class="detail" id="get_blueprints_sharing_runnable_case/1">

  <div class="detail-header">
    <a href="#get_blueprints_sharing_runnable_case/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_blueprints_sharing_runnable_case(stack)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L144" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get the blueprint name and ids that share the runnable case of
the given simple (two-layer) stack.</p>
  </section>
</section>
<section class="detail" id="get_blueprints_sharing_template_case/1">

  <div class="detail-header">
    <a href="#get_blueprints_sharing_template_case/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_blueprints_sharing_template_case(template)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L219" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Returns the name and ids of the blueprints with which the case is shared.</p>
  </section>
</section>
<section class="detail" id="get_cases_using_template/1">

  <div class="detail-header">
    <a href="#get_cases_using_template/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_cases_using_template(template)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L180" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Retrieve the cases (stacks) using the given template.</p>
  </section>
</section>
<section class="detail" id="get_first_stack/1">

  <div class="detail-header">
    <a href="#get_first_stack/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_first_stack(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L104" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get the first stack associated to the given blueprint.</p>
  </section>
</section>
<section class="detail" id="get_setting/1">

  <div class="detail-header">
    <a href="#get_setting/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_setting(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L153" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get the simulation settings.</p>
  </section>
</section>
<section class="detail" id="get_stack/1">

  <div class="detail-header">
    <a href="#get_stack/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_stack(stack_id)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L109" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Retrieve a stack corresponding to the given id.</p>
  </section>
</section>
<section class="detail" id="get_stack!/2">

  <div class="detail-header">
    <a href="#get_stack!/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_stack!(stack_id, queries)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L114" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Retrieve a stack corresponding to the given id (throw! version).</p>
  </section>
</section>
<section class="detail" id="get_stack_names/1">

  <div class="detail-header">
    <a href="#get_stack_names/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_stack_names(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L121" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Retrieve all the stack names for the given blueprint.</p><p>Typically used to build the list of available stacks.</p>
  </section>
</section>
<section class="detail" id="get_stack_runnable_case/1">

  <div class="detail-header">
    <a href="#get_stack_runnable_case/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_stack_runnable_case(stack)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L279" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get the runnable case of the given simple stack.</p>
  </section>
</section>
<section class="detail" id="get_stack_template_case/1">

  <div class="detail-header">
    <a href="#get_stack_template_case/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_stack_template_case(stack)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L284" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get the template case of the given simple stack.</p>
  </section>
</section>
<section class="detail" id="get_stacks/1">

  <div class="detail-header">
    <a href="#get_stacks/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_stacks(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L126" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get all stacks for the given blueprint.</p>
  </section>
</section>
<section class="detail" id="get_template/1">

  <div class="detail-header">
    <a href="#get_template/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_template(template_id)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L204" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Retrieve the template with the given id.</p>
  </section>
</section>
<section class="detail" id="get_template_names/1">

  <div class="detail-header">
    <a href="#get_template_names/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_template_names(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L214" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get all the given blueprint's template names.</p>
  </section>
</section>
<section class="detail" id="get_templates/1">

  <div class="detail-header">
    <a href="#get_templates/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">get_templates(blueprint)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L209" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get all the given blueprint's templates.</p>
  </section>
</section>
<section class="detail" id="import_all_cases/1">

  <div class="detail-header">
    <a href="#import_all_cases/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">import_all_cases(path)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L326" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Import all cases from a path (used for bulk importation).</p>
  </section>
</section>
<section class="detail" id="load_stack_layers_case_entries/1">

  <div class="detail-header">
    <a href="#load_stack_layers_case_entries/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">load_stack_layers_case_entries(query)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L132" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Add the case entries (input and output) to the stacks retrieved
by the given query.</p>
  </section>
</section>
<section class="detail" id="load_stack_setting/1">

  <div class="detail-header">
    <a href="#load_stack_setting/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">load_stack_setting(query)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L138" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Add the setting attribute to the stacks retrieved by the given
query.</p>
  </section>
</section>
<section class="detail" id="queue_job/1">

  <div class="detail-header">
    <a href="#queue_job/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">queue_job(job)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L307" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Queue a case to be runned by the simulation runner.</p>
  </section>
</section>
<section class="detail" id="set_expect_run_error/2">

  <div class="detail-header">
    <a href="#set_expect_run_error/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">set_expect_run_error(kase, expect_run_error)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L80" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Sets whether the case expects an error to occur (mostly when the complete element is not used).</p>
  </section>
</section>
<section class="detail" id="set_expected/2">

  <div class="detail-header">
    <a href="#set_expected/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">set_expected(entry, expected)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L258" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Set the &quot;expected&quot; value of the given output entry.</p>
  </section>
</section>
<section class="detail" id="set_stack_template/2">

  <div class="detail-header">
    <a href="#set_stack_template/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">set_stack_template(stack, template_case_id)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L289" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Set the case with the given id as template case for the given simple stack.</p>
  </section>
</section>
<section class="detail" id="toggle_forbidden/2">

  <div class="detail-header">
    <a href="#toggle_forbidden/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">toggle_forbidden(entry, forbidden)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L265" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Set the forbidden flag of the given output entry. If forbidden is set to true,
the corresponding output variable is expected to be absent of the output in
the current case.</p>
  </section>
</section>
<section class="detail" id="update_input_entry/3">

  <div class="detail-header">
    <a href="#update_input_entry/3" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update_input_entry(input_entry, value, variable)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L238" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Update given input entry value.</p>
  </section>
</section>
<section class="detail" id="update_setting/2">

  <div class="detail-header">
    <a href="#update_setting/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">update_setting(setting, options)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L166" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Update setting with the given options.
Currently, the only option is the datetime <code class="inline">env_now</code>.</p>
  </section>
</section>
<section class="detail" id="validate_input_entry/2">

  <div class="detail-header">
    <a href="#validate_input_entry/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">validate_input_entry(changeset, variable)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L243" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Validate given input entry for the given variable.</p>
  </section>
</section>
<section class="detail" id="validate_setting/1">

  <div class="detail-header">
    <a href="#validate_setting/1" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">validate_setting(changeset)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L171" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Validate the setting.</p>
  </section>
</section>
<section class="detail" id="variable_default_value/2">

  <div class="detail-header">
    <a href="#variable_default_value/2" class="detail-link" title="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature" translate="no">variable_default_value(type, enum)</h1>

      <a href="https://github.com/soignezmoich/vac-engine/blob/main/lib/vac_engine/simulation.ex#L317" class="view-source" rel="help" title="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
       <span class="sr-only">View Source</span>
     </a>


  </div>

  <section class="docstring">

<p>Get the default value for a variable of the given type. If the type
is string, the enum must me passed if it exists.</p>
  </section>
</section>

    </div>
  </section>

      <footer class="footer">

          <p>
            On Hex.pm:

            <span class="line">
              <a href="https://hex.pm/packages/vac_engine/1.1.1" class="line footer-hex-package">Package</a>
              <a href="https://preview.hex.pm/preview/vac_engine/1.1.1" class="line">Preview</a>

                <a href="https://preview.hex.pm/preview/vac_engine/1.1.1/show/lib/vac_engine/simulation.ex">(current file)</a>

            </span>

            <button class="line footer-button display-quick-switch">
              Search
            </button>
          </p>

        <p>
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.28.0) for the
          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
